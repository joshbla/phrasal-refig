(self.webpackChunklite=self.webpackChunklite||[]).push([[864],{59250:(e,n,i)=>{"use strict";i.d(n,{MA:()=>l,Zh:()=>r,jM:()=>u});var t=i(63038),d=i.n(t),o=i(67294),a={mutedAuthorIds:[],setMutedAuthorIds:function(){},mutedPubIds:[],setMutedPubIds:function(){},dismissedPostIds:[],setDismissedPostIds:function(){},isMutingFromHomeFeed:!0,seeLessPostIds:[],setSeeLessPostIds:function(){}},l=function(e,n,i,t,d){return e.filter((function(e){var o,a,l,s,r,u;return!(n.indexOf(null===(o=e.post)||void 0===o||null===(a=o.creator)||void 0===a?void 0:a.id)>-1||i.indexOf(null===(l=e.post)||void 0===l||null===(s=l.collection)||void 0===s?void 0:s.id)>-1||t.indexOf(null===(r=e.post)||void 0===r?void 0:r.id)>-1||d.indexOf(null===(u=e.post)||void 0===u?void 0:u.id)>-1)}))},s=(0,o.createContext)(a),r=function(e){var n=e.children,i=(0,o.useState)(a.mutedAuthorIds),t=d()(i,2),l=t[0],r=t[1],u=(0,o.useState)(a.mutedPubIds),c=d()(u,2),m=c[0],k=c[1],v=(0,o.useState)(a.dismissedPostIds),p=d()(v,2),S=p[0],f=p[1],N=(0,o.useState)(a.seeLessPostIds),F=d()(N,2),g=F[0],I=F[1],h=a.isMutingFromHomeFeed;return o.createElement(s.Provider,{value:{mutedAuthorIds:l,setMutedAuthorIds:r,mutedPubIds:m,setMutedPubIds:k,dismissedPostIds:S,setDismissedPostIds:f,isMutingFromHomeFeed:h,seeLessPostIds:g,setSeeLessPostIds:I}},n)},u=function(){return(0,o.useContext)(s)}},41589:(e,n,i)=>{"use strict";i.d(n,{q:()=>a});var t=i(67294),d=i(62685),o=i(97217),a=function(e){var n=e.children;return e.enabled?t.createElement(d.o,{flag:o.T3.USER_SIGNAL_MENU,text:"Improve your recommendations by telling us which stories you're not interested in.",dismissText:"OK",placement:"top",targetDistance:10},n):n}},51277:(e,n,i)=>{"use strict";i.d(n,{v:()=>s});var t=i(319),d=i.n(t),o=i(48172),a={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"OverflowMenuWithNegativeSignal_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"OverflowMenuItemUndoClaps_post"}}]}}].concat(d()(o.g.definitions))},l=i(94630),s={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"OverflowMenuButtonWithNegativeSignal_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"OverflowMenuWithNegativeSignal_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CreatorActionOverflowPopover_post"}}]}}].concat(d()(a.definitions),d()(l.G.definitions))}},91743:(e,n,i)=>{"use strict";i.d(n,{t:()=>W});var t=i(67294),d=i(41274),o=i(6443),a=i(67701),l=i(66227),s=i(41589),r=i(59713),u=i.n(r),c=i(63038),m=i.n(c),k=i(93774),v=i(25550),p=i(38352),S=i(37774),f=i(77355),N=i(93310),F=i(73917),g=i(66411),I=i(77280),h=i(43487);function P(){return(P=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t])}return e}).apply(this,arguments)}var b=t.createElement("path",{d:"M6.2 16.8A7.5 7.5 0 1 0 16.8 6.2 7.5 7.5 0 0 0 6.2 16.8z",stroke:"#000",strokeWidth:2,strokeLinecap:"round"}),E=t.createElement("path",{d:"M6 6l11 11",stroke:"#000",strokeWidth:2});const w=function(e){return t.createElement("svg",P({width:19,height:19,viewBox:"0 0 23 23",fill:"none"},e),b,E)};var y=i(319),C=i.n(y),x=i(21919),A=i(5977),M=i(59250),_=i(66823),O=i(99323),D=i(75880),T=i(18627),U=function(e){var n=e.creatorId,i=e.viewerId,d=e.muteAuthor,o=e.hidePopover,a=e.eventData,l=e.isActiveExpandedPost,s=(0,g.pK)(),r=(0,T.Av)(),u={id:n||""},c=(0,D.Pd)(u).viewerEdge,k=!(null==c||!c.isFollowing),v=!(null==c||!c.isMuting),S=(0,O.sK)().clearExpandedState,f=(0,A.k6)(),F=(0,M.jM)(),I=F.mutedAuthorIds,h=F.setMutedAuthorIds,P=F.isMutingFromHomeFeed,b=t.useCallback((function(e){h([].concat(C()(I),[e]))}),[I]),E=(0,x.D)(_.g,{variables:{targetUserId:n||""},optimisticResponse:{unfollowUser:{__typename:"User",id:n||"",viewerEdge:{__typename:"UserViewerEdge",id:"userId:".concat(n,"-viewerId:").concat(i),isFollowing:!1}}}}),w=m()(E,1)[0];return n?k?t.createElement(p.Sl,null,t.createElement(N.r,{onClick:function(){r.event("user.unfollowed",{targetUserId:n,source:s}),w(),o()}},"Unfollow this author")):v?null:t.createElement(p.Sl,null,t.createElement(N.r,{onClick:function(){r.event("user.muted",a),d(),P&&(b(n),l&&(S(),f.goBack())),o()}},"Mute this author")):null},L=i(24415),j=i(75150),R=i(82405),B=function(e){var n=e.collectionId,i=e.viewerId,d=e.hidePopover,o=e.mutePub,l=e.eventData,s=e.isActiveExpandedPost,r=(0,T.Av)(),u=(0,g.pK)(),c={id:n||""},m=(0,a.gY)(c).viewerEdge,k=!(null==m||!m.isFollowing),v=!(null==m||!m.isMuting),S=(0,R.MT)(n||"",i),f=(0,M.jM)(),F=f.mutedPubIds,I=f.setMutedPubIds,h=f.isMutingFromHomeFeed,P=(0,O.sK)().clearExpandedState,b=(0,A.k6)(),E=t.useCallback((function(e){I([].concat(C()(F),[e]))}),[F]);return n?k?t.createElement(p.Sl,null,t.createElement(N.r,{onClick:function(){r.event("collection.unfollowed",{collectionId:n,followSource:u}),S(),d()}},"Unfollow this publication")):v?null:t.createElement(p.Sl,null,t.createElement(N.r,{onClick:function(){r.event("collection.muted",l),o(),h&&(E(n),s&&(P(),b.goBack())),d()}},"Mute this publication")):null},H=i(42732);function V(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function K(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?V(Object(i),!0).forEach((function(n){u()(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):V(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var G=function(e){var n=e.post,i=e.creatorId,d=e.collectionId,o=e.isActiveExpandedPost,a=e.setDismissedPostId,l=e.iconStyle,s=e.hideNegativeSignalItem,r=n.id,u=(0,v.r)().viewerId,c=(0,t.useState)(!1),P=m()(c,2),b=P[0],E=P[1],y=function(){return E(!1)},C=(0,k.l)(i,d),x=C.muteAuthor,A=C.mutePub,M=(0,g.pK)(),_=(0,I.PM)(),O=(0,h.v9)((function(e){return e.navigation.referrer})),D=(0,h.v9)((function(e){return e.navigation.currentLocation})),T={postId:r,location:D,referrer:O,source:M,referrerSource:_},R=(0,H.c)({post:n,onShowLess:y,isActiveExpandedPost:o,collectionId:d,setDismissedPostId:a}).handleShowLess,V=(0,t.useCallback)((function(){return t.createElement(p.mX,null,!s&&t.createElement(f.x,{borderBottom:"BASE_LIGHTER",paddingBottom:"4px",marginBottom:"4px"},t.createElement(p.Sl,null,t.createElement(N.r,{onClick:R,"aria-label":"Show less like this"},t.createElement(f.x,{display:"flex",flexDirection:"row",alignItems:"center",borderBottom:void 0,ariaHidden:"true"},t.createElement(f.x,{marginRight:"4px"},t.createElement(w,null)),t.createElement(f.x,null,"Show less like this"))))),t.createElement(j.T,{post:n,hidePopover:y}),t.createElement(U,{creatorId:i,viewerId:u,muteAuthor:x,isActiveExpandedPost:o,hidePopover:y,eventData:K({targetUserId:i},T)}),d&&t.createElement(B,{collectionId:d,viewerId:u,mutePub:A,isActiveExpandedPost:o,hidePopover:y,eventData:K({collection:d},T)}),t.createElement(S.z,{postId:r,viewerId:u,targetUserId:i||"",shouldShowShortenedCopy:!0,hidePopover:y}))}),[]);return i?t.createElement(F.J,{isVisible:b,hide:y,popoverRenderFn:V},t.createElement(L.c,{onClick:function(){return E(!0)},"aria-label":"More options",iconStyle:l})):null},W=function(e){var n=e.post,i=e.index,r=e.isActiveExpandedPost,u=e.setDismissedPostId,c=e.iconStyle,m=e.hideNegativeSignalItem,k=n.creator,v=n.collection,p=(0,o.H)(),S=p.loading,f=p.value,N=(0,a.gY)(v).viewerEdge,F=!S&&!!f,g=!(null==N||!N.isEditor),I=(null==f?void 0:f.id)===(null==k?void 0:k.id);return k&&F?g||I?t.createElement(l.B,null,(function(e){var i=e.show;return t.createElement(d.Z,{post:n,creator:k,collection:v,showLoadingIndicator:i,iconStyle:c})})):t.createElement(s.q,{enabled:0===i&&!m},t.createElement(G,{post:n,creatorId:k.id,collectionId:null==v?void 0:v.id,isActiveExpandedPost:r,setDismissedPostId:u,iconStyle:c,hideNegativeSignalItem:m})):null}},42732:(e,n,i)=>{"use strict";i.d(n,{c:()=>F});var t=i(319),d=i.n(t),o=i(82492),a=i.n(o),l=i(26075),s=i(90386),r=i(67294),u=i(5977),c=i(59250),m=i(99323),k=i(25550),v=i(18627),p=i(66411),S=i(78285),f=i(77280),N=i(43487),F=function(e){var n=e.post,i=e.onShowLess,t=e.isActiveExpandedPost,o=e.collectionId,F=e.setDismissedPostId,g=n.id,I=(0,k.r)().viewerId,h=(0,m.sK)().clearExpandedState,P=(0,u.k6)(),b=(0,c.jM)(),E=b.setSeeLessPostIds,w=b.isMutingFromHomeFeed,y=(0,S.w)(),C=(0,l.x)().cache,x=(0,v.Av)(),A=(0,p.pK)(),M=(0,f.PM)(),_=(0,N.v9)((function(e){return e.navigation.referrer})),O=(0,N.v9)((function(e){return e.navigation.currentLocation})),D=(0,r.useRef)(null),T=(0,r.useCallback)((function(){D.current=window.setTimeout((function(){x.event("post.see_less",{userId:I,collection:o,postId:g,location:O,referrer:_,source:A,referrerSource:M})}),3e3)}),[]),U=(0,r.useCallback)((function(){null!==D.current&&window.clearTimeout(D.current)}),[]),L=(0,r.useCallback)((function(){C.modify({id:C.identify((0,s.kQ)("ROOT_QUERY")),fields:{webRecommendedFeed:function(e,n){var i=n.readField;return a()({},e,{items:e.items.filter((function(e){return(null==e?void 0:e.post)&&i("id",e.post)!==g}))})},intentionalFeed:function(e,n){var i=n.readField;return a()({},e,{items:e.items.filter((function(e){return!("HomeFeedItem"===(null==e?void 0:e.__typename)&&null!=e&&e.post&&i("id",e.post)===g)}))})}}})}),[g]);return{handleShowLess:(0,r.useCallback)((function(){T(),L(),w&&(E((function(e){return[].concat(d()(e),[g])})),t&&(h(),P.goBack()),null==F||F(g)),y({toastStyle:"USER_NEGATIVE_SIGNAL",extraParams:{onClickUndo:U}}),null==i||i()}),[])}}},91727:(e,n,i)=>{"use strict";i.d(n,{S:()=>t});var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"NewsletterV3EmailToSubscribersMenuItem_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"newsletterV3"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"subscribersCount"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"isNewsletter"}},{kind:"Field",name:{kind:"Name",value:"isAuthorNewsletter"}}]}}]}},99323:(e,n,i)=>{"use strict";i.d(n,{sK:()=>u});var t=i(28655),d=i.n(t),o=(i(63038),i(92471)),a=i(67294),l=i(27927);function s(){var e=d()(["\n  fragment InlineExpansionContext_post on Post {\n    id\n    creator {\n      id\n      customStyleSheet {\n        id\n        blogroll {\n          visibility\n        }\n      }\n      isAuroraVisible\n      followedCollections\n      socialStats {\n        followingCount\n        collectionFollowingCount\n      }\n      ...UserSubscribeButton_user\n    }\n    collection {\n      id\n      description\n      isAuroraEligible\n      isAuroraVisible\n      viewerEdge {\n        id\n        isEditor\n      }\n      tagline\n    }\n    customStyleSheet {\n      id\n      blogroll {\n        visibility\n      }\n    }\n  }\n  ","\n"]);return s=function(){return e},e}var r=(0,a.createContext)({expandedPostId:null,setExpandedPostId:function(){},postInView:!1,setPostInView:function(){},expandedPost:null,setExpandedPost:function(){},clearExpandedState:function(){}}),u=function(){return(0,a.useContext)(r)};(0,o.Ps)(s(),l.w)},94630:(e,n,i)=>{"use strict";i.d(n,{G:()=>u});var t=i(319),d=i.n(t),o=i(92001),a=i(93647),l=i(36736),s=i(91727),r=i(48172),u={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CreatorActionOverflowPopover_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"allowResponses"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"statusForCollection"}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"isPublished"}},{kind:"Field",name:{kind:"Name",value:"clapCount"}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"Field",name:{kind:"Name",value:"pinnedAt"}},{kind:"Field",name:{kind:"Name",value:"pinnedByCreatorAt"}},{kind:"Field",name:{kind:"Name",value:"curationEligibleAt"}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"Field",name:{kind:"Name",value:"responseDistribution"}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"Field",name:{kind:"Name",value:"inResponseToPostResult"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"inResponseToCatalogResult"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"pendingCollection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"avatar"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"domain"}},{kind:"Field",name:{kind:"Name",value:"slug"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MutePopoverOptions_creator"}},{kind:"FragmentSpread",name:{kind:"Name",value:"auroraHooks_publisher"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"avatar"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"domain"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MutePopoverOptions_collection"}},{kind:"FragmentSpread",name:{kind:"Name",value:"auroraHooks_publisher"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"useIsPinnedInContext_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"NewsletterV3EmailToSubscribersMenuItem_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"OverflowMenuItemUndoClaps_post"}}]}}].concat(d()(o.m.definitions),d()(a.C.definitions),d()(o.G.definitions),d()(l.x.definitions),d()(s.S.definitions),d()(r.g.definitions))}},93647:(e,n,i)=>{"use strict";i.d(n,{C:()=>t});var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"auroraHooks_publisher"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publisher"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isAuroraEligible"}},{kind:"Field",name:{kind:"Name",value:"isAuroraVisible"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isEditor"}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isAuroraVisible"}}]}}]}}]}},36736:(e,n,i)=>{"use strict";i.d(n,{x:()=>t});var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"useIsPinnedInContext_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"pendingCollection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"pinnedAt"}},{kind:"Field",name:{kind:"Name",value:"pinnedByCreatorAt"}}]}}]}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/864.6b8f8aaf.chunk.js.map